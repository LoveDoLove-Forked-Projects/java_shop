import{u as m,a as f,z as p,j as w,J as g,r as x,o as S,e as I,f as s,w as k,v as A,g as _,E as r,k as z,m as h,K as b,p as E,h as V}from"./index-f6b5f6b4.js";import{_ as Z}from"./_plugin-vue_export-helper-c27b6911.js";const d=c=>(E("data-v-64c8569f"),c=c(),V(),c),U={class:"content-list"},y=d(()=>s("div",{class:"list-title"},"推送设置",-1)),B={class:"list-content"},D={class:"push-view"},C={class:"item flex-view"},M=d(()=>s("div",{class:"label"},"推送邮箱",-1)),N={class:"right-box"},R={class:"item flex-view"},j=d(()=>s("div",{class:"label"},"接受邮件消息",-1)),F={class:"right-box"},J={__name:"push-view",setup(c){m();const n=f();let a=p(""),o=p(!1);w(()=>{u()});const u=()=>{let l=n.user_id;g({userId:l}).then(e=>{e.data&&(a.value=e.data.pushEmail,e.data.pushSwitch==="1"&&(o.value=!0))}).catch(e=>{console.log(e)})},v=()=>{const l=/^[a-zA-Z0-9][a-zA-Z0-9_]+\@[a-zA-Z0-9]+\.[a-zA-Z]{2,5}(\.[a-zA-Z]{2,5})*$/i;if(!a.value.match(l)){h.warn("请输入正确的邮箱格式");return}let e=n.user_id;const i=new FormData;i.append("id",e),a.value&&i.append("pushEmail",a.value),i.append("pushSwitch",o.value?"1":"0"),b(i).then(t=>{u(),h.success("保存成功")}).catch(t=>{console.log(t)})};return(l,e)=>{const i=x("a-switch");return S(),I("div",U,[y,s("div",B,[s("div",D,[s("div",C,[M,s("div",N,[k(s("input",{type:"text",class:"input-dom",placeholder:"请输入邮箱","onUpdate:modelValue":e[0]||(e[0]=t=>r(a)?a.value=t:a=t)},null,512),[[A,_(a)]])])]),s("div",R,[j,s("div",F,[z(i,{checked:_(o),"onUpdate:checked":e[1]||(e[1]=t=>r(o)?o.value=t:o=t)},null,8,["checked"])])]),s("button",{class:"save mg",onClick:e[2]||(e[2]=t=>v())},"保存")])])])}}},q=Z(J,[["__scopeId","data-v-64c8569f"]]);export{q as default};
