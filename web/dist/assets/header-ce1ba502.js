import{d as B,u as D,y as q,a as A,z as p,j as E,r as c,o as d,e as m,f as e,g as n,D as K,c as M,s as a,k as l,E as j,F,l as H,t as h,p as N,h as z}from"./index-f6b5f6b4.js";import{l as G}from"./notice-502f1323.js";import{l as J}from"./k-logo-98944f67.js";import{_ as O}from"./_plugin-vue_export-helper-c27b6911.js";const P=""+new URL("search-icon-2c208f60.svg",import.meta.url).href,Q=""+new URL("avatar-d192b431.jpg",import.meta.url).href,T=""+new URL("message-icon-b7a386ca.svg",import.meta.url).href,f=u=>(N("data-v-3943dd3d"),u=u(),z(),u),W={class:"main-bar-view"},X={class:"logo"},Y=["src"],Z={class:"search-entry"},ee=["src"],se=["onKeyup"],te={class:"right-view"},oe=["src"],ne=["src"],ae=f(()=>e("span",{class:"msg-point",style:{}},null,-1)),le={class:"list-content"},ie={class:"notification-view"},re={class:"list"},ce={class:"notification-item flex-view"},de={class:"content-box"},ue={class:"header"},_e={class:"title-txt"},pe=f(()=>e("br",null,null,-1)),me={class:"time"},ve=f(()=>e("div",{class:"head-text"},null,-1)),he={class:"content"},fe=B({__name:"header",setup(u){const i=D(),b=q(),g=A(),w=p();let _=p(!1),r=p(!1),k=p([]);E(()=>{C()});const C=()=>{_.value=!0,G({}).then(t=>{k.value=t.data,_.value=!1}).catch(t=>{console.log(t),_.value=!1})},x=()=>{const t=w.value.value;if(b.name==="search")i.push({name:"search",query:{keyword:t}});else{let s=i.resolve({name:"search",query:{keyword:t}});window.open(s.href,"_blank")}},I=()=>{i.push({name:"login"})},y=t=>{i.push({name:t})},R=()=>{g.logout().then(t=>{i.push({name:"portal"})})},S=()=>{r.value=!1};return(t,s)=>{const v=c("a-menu-item"),$=c("a-menu"),L=c("a-dropdown"),U=c("a-spin"),V=c("a-drawer");return d(),m("div",W,[e("div",X,[e("img",{src:n(J),class:"search-icon",onClick:s[0]||(s[0]=o=>t.$router.push({name:"portal"}))},null,8,Y)]),e("div",Z,[e("img",{src:n(P),class:"search-icon"},null,8,ee),e("input",{placeholder:"输入关键词",ref_key:"keywordRef",ref:w,onKeyup:K(x,["enter"])},null,40,se)]),e("div",te,[n(g).user_token?(d(),M(L,{key:0},{overlay:a(()=>[l($,null,{default:a(()=>[l(v,null,{default:a(()=>[e("a",{onClick:s[2]||(s[2]=o=>y("orderView"))},"订单中心")]),_:1}),l(v,null,{default:a(()=>[e("a",{onClick:s[3]||(s[3]=o=>y("userInfoEditView"))},"个人设置")]),_:1}),l(v,null,{default:a(()=>[e("a",{onClick:s[4]||(s[4]=o=>R())},"退出")]),_:1})]),_:1})]),default:a(()=>[e("a",{class:"ant-dropdown-link",onClick:s[1]||(s[1]=o=>o.preventDefault())},[e("img",{src:n(Q),class:"self-img"},null,8,oe)])]),_:1})):(d(),m("button",{key:1,class:"login btn hidden-sm",onClick:s[5]||(s[5]=o=>I())},"登录")),e("div",{class:"right-icon",onClick:s[6]||(s[6]=o=>j(r)?r.value=!0:r=!0)},[e("img",{src:n(T)},null,8,ne),ae]),e("div",null,[l(V,{title:"我的消息",placement:"right",closable:!0,maskClosable:!0,visible:n(r),onClose:S},{default:a(()=>[l(U,{spinning:n(_),style:{"min-height":"200px"}},{default:a(()=>[e("div",le,[e("div",ie,[e("div",re,[(d(!0),m(F,null,H(n(k),o=>(d(),m("div",ce,[e("div",de,[e("div",ue,[e("span",_e,h(o.title),1),pe,e("span",me,h(o.create_time),1)]),ve,e("div",he,[e("p",null,h(o.content),1)])])]))),256))])])])]),_:1},8,["spinning"])]),_:1},8,["visible"])])])])}}});const be=O(fe,[["__scopeId","data-v-3943dd3d"]]);export{Q as A,be as H};
