import{b as v}from"./log-1ab783a7.js";import{d as w,b as p,j as C,z as I,r as s,o as _,e as g,f as c,k as l,s as m,x as L,g as o,p as z,h as S}from"./index-f6b5f6b4.js";import{_ as b}from"./_plugin-vue_export-helper-c27b6911.js";const E=a=>(z("data-v-714df02d"),a=a(),S(),a),R={class:"page-view"},$={key:0},B=["onClick"],K=E(()=>c("a",{href:"#"},"删除",-1)),N=w({__name:"error-log",setup(a){const f=p([{title:"序号",dataIndex:"index",key:"index",align:"center"},{title:"请求方式",dataIndex:"method",key:"method",align:"center"},{title:"请求URL",dataIndex:"url",key:"url",align:"center"},{title:"异常信息",dataIndex:"content",key:"content"},{title:"操作IP",dataIndex:"ip",key:"ip",align:"center"},{title:"操作时间",dataIndex:"logTime",key:"logTime",align:"center"}]),e=p({dataList:[],loading:!1,keyword:"",selectedRowKeys:[],pageSize:10,page:1});C(()=>{u()});const u=()=>{e.loading=!0,v({keyword:e.keyword}).then(t=>{e.loading=!1,console.log(t),t.data.forEach((n,i)=>{n.index=i+1}),e.dataList=t.data}).catch(t=>{e.loading=!1,console.log(t)})};return I({onChange:(t,n)=>{console.log(`selectedRowKeys: ${t}`,"selectedRows: ",n),e.selectedRowKeys=t}}),(t,n)=>{const i=s("a-divider"),h=s("a-popconfirm"),x=s("a-table");return _(),g("div",null,[c("div",R,[l(x,{size:"middle",rowKey:"id",loading:o(e).loading,columns:o(f),"data-source":o(e).dataList,scroll:{x:"max-content"},pagination:{size:"default",current:o(e).page,pageSize:o(e).pageSize,onChange:d=>o(e).page=d,showSizeChanger:!1,showTotal:d=>`共${d}条数据`}},{bodyCell:m(({text:d,record:r,index:T,column:y})=>[y.key==="operation"?(_(),g("span",$,[c("a",{onClick:k=>t.handleEdit(r)},"编辑",8,B),l(i,{type:"vertical"}),l(h,{title:"确定删除?","ok-text":"是","cancel-text":"否",onConfirm:k=>t.confirmDelete(r)},{default:m(()=>[K]),_:2},1032,["onConfirm"])])):L("",!0)]),_:1},8,["loading","columns","data-source","pagination"])])])}}});const A=b(N,[["__scopeId","data-v-714df02d"]]);export{A as default};
