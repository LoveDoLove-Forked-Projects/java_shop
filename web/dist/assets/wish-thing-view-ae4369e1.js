import{u as w,y as f,a as k,z as x,j as y,B as I,o as a,e as c,f as t,F as S,l as C,g as B,t as n,x as _,p as L,h as R,m as V}from"./index-f6b5f6b4.js";import{u as b,a as A}from"./thingWish-0327c2dd.js";import{_ as E}from"./_plugin-vue_export-helper-c27b6911.js";const d=i=>(L("data-v-42c8456c"),i=i(),R(),i),T={class:"content-list"},W=d(()=>t("div",{class:"list-title"},"我的心愿单",-1)),D=d(()=>t("div",{role:"tablist",class:"list-tabs-view flex-view"},null,-1)),F={class:"list-content"},N={class:"collect-thing-view"},U={class:"thing-list flex-view"},$=["onClick"],j=["onClick"],q=["src"],z={class:"info-view"},M={class:"thing-name"},G={key:0,class:"authors"},H={key:1,class:"translators"},J={__name:"wish-thing-view",setup(i){const h=w();f();const u=k();let l=x([]);y(()=>{r()});const v=o=>{let e=h.resolve({name:"detail",query:{id:o.id}});window.open(e.href,"_blank")},p=o=>{A({id:o.id}).then(e=>{V.success("移除成功"),r()}).catch(e=>{console.log(e)})},r=()=>{let o=u.user_id;b({userId:o}).then(e=>{e.data.forEach(s=>{s.cover=I+"/api/staticfiles/image/"+s.cover}),l.value=e.data}).catch(e=>{console.log(e.msg)})};return(o,e)=>(a(),c("div",T,[W,D,t("div",F,[t("div",N,[t("div",U,[(a(!0),c(S,null,C(B(l),(s,g)=>(a(),c("div",{class:"thing-item item-column-3",key:g},[t("div",{class:"remove",onClick:m=>p(s)},"移出",8,$),t("div",{class:"img-view",onClick:m=>v(s)},[t("img",{src:s.cover},null,8,q)],8,j),t("div",z,[t("h3",M,n(s.title),1),s.author?(a(),c("p",G,n(s.author)+"（作者)",1)):_("",!0),s.translator?(a(),c("p",H,n(s.translator)+"（译者）",1)):_("",!0)])]))),128))])])])]))}},Q=E(J,[["__scopeId","data-v-42c8456c"]]);export{Q as default};
