import{d as f,u as w,a as k,b as C,j as x,B as y,o as c,e as a,f as s,F as S,l as I,t as n,x as _,g as B,m as D,p as b,h as L}from"./index-f6b5f6b4.js";import{u as V,a as A}from"./thingCollect-d0e1be9b.js";import{_ as E}from"./_plugin-vue_export-helper-c27b6911.js";const h=l=>(b("data-v-3614c6d0"),l=l(),L(),l),R={class:"content-list"},T=h(()=>s("div",{class:"list-title"},"我的收藏",-1)),F=h(()=>s("div",{role:"tablist",class:"list-tabs-view flex-view"},null,-1)),N={class:"list-content"},U={class:"collect-thing-view"},$={class:"thing-list flex-view"},j=["onClick"],q=["onClick"],M=["src"],z={class:"info-view"},G={class:"thing-name"},H={key:0,class:"authors"},J={key:1,class:"translators"},K=f({__name:"collect-thing-view",setup(l){const u=w(),i=k(),r=C({collectData:[]});x(()=>{d()});const v=o=>{let e=u.resolve({name:"detail",query:{id:o.id}});window.open(e.href,"_blank")},p=o=>{i.user_name,A({id:o.id}).then(e=>{D.success("移除成功"),d()}).catch(e=>{console.log(e)})},d=()=>{let o=i.user_id;V({userId:o}).then(e=>{e.data.forEach(t=>{t.cover=y+"/api/staticfiles/image/"+t.cover}),console.log(e.data),r.collectData=e.data}).catch(e=>{console.log(e.msg)})};return(o,e)=>(c(),a("div",R,[T,F,s("div",N,[s("div",U,[s("div",$,[(c(!0),a(S,null,I(B(r).collectData,(t,g)=>(c(),a("div",{class:"thing-item item-column-3",key:g},[s("div",{class:"remove",onClick:m=>p(t)},"移出",8,j),s("div",{class:"img-view",onClick:m=>v(t)},[s("img",{src:t.cover},null,8,M)],8,q),s("div",z,[s("h3",G,n(t.title),1),t.author?(c(),a("p",H,n(t.author)+"（作者)",1)):_("",!0),t.translator?(c(),a("p",J,n(t.translator)+"（译者）",1)):_("",!0)])]))),128))])])])]))}});const W=E(K,[["__scopeId","data-v-3614c6d0"]]);export{W as default};
