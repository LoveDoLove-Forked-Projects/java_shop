import{a as v}from"./log-1ab783a7.js";import{d as I,b as _,j as w,z as C,r as i,o as g,e as m,f as l,k as d,s as f,x as L,g as a,p as z,h as S}from"./index-f6b5f6b4.js";import{_ as R}from"./_plugin-vue_export-helper-c27b6911.js";const T=n=>(z("data-v-3d9cfccc"),n=n(),S(),n),b={class:"page-view"},$={key:0},B=["onClick"],E=T(()=>l("a",{href:"#"},"删除",-1)),K=I({__name:"op-log",setup(n){const u=_([{title:"序号",dataIndex:"index",key:"index",align:"center"},{title:"请求方式",dataIndex:"reMethod",key:"reMethod",align:"center"},{title:"请求URL",dataIndex:"reUrl",key:"reUrl",align:"center"},{title:"操作IP",dataIndex:"reIp",key:"reIp",align:"center"},{title:"操作时间",dataIndex:"reTime",key:"reTime",align:"center"},{title:"耗时",dataIndex:"accessTime",key:"accessTime",align:"center",customRender:({text:e,record:o,index:c,column:r})=>e+"ms"}]),t=_({dataList:[],loading:!1,keyword:"",selectedRowKeys:[],pageSize:10,page:1});w(()=>{h()});const h=()=>{t.loading=!0,v({keyword:t.keyword}).then(e=>{t.loading=!1,console.log(e),e.data.forEach((o,c)=>{o.index=c+1}),t.dataList=e.data}).catch(e=>{t.loading=!1,console.log(e)})};return C({onChange:(e,o)=>{console.log(`selectedRowKeys: ${e}`,"selectedRows: ",o),t.selectedRowKeys=e}}),(e,o)=>{const c=i("a-divider"),r=i("a-popconfirm"),x=i("a-table");return g(),m("div",null,[l("div",b,[d(x,{size:"middle",rowKey:"id",loading:a(t).loading,columns:a(u),"data-source":a(t).dataList,scroll:{x:"max-content"},pagination:{size:"default",current:a(t).page,pageSize:a(t).pageSize,onChange:s=>a(t).page=s,showSizeChanger:!1,showTotal:s=>`共${s}条数据`}},{bodyCell:f(({text:s,record:p,index:M,column:y})=>[y.key==="operation"?(g(),m("span",$,[l("a",{onClick:k=>e.handleEdit(p)},"编辑",8,B),d(c,{type:"vertical"}),d(r,{title:"确定删除?","ok-text":"是","cancel-text":"否",onConfirm:k=>e.confirmDelete(p)},{default:f(()=>[E]),_:2},1032,["onConfirm"])])):L("",!0)]),_:1},8,["loading","columns","data-source","pagination"])])])}}});const D=R(K,[["__scopeId","data-v-3d9cfccc"]]);export{D as default};
