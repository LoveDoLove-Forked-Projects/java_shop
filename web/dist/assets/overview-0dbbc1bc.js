import{l as A}from"./overview-f01644ad.js";import{d as k,z as h,b as I,j as B,r as _,o as E,c as T,s as e,f as t,k as a,I as c,t as p,g as d,p as O,h as P}from"./index-f6b5f6b4.js";import{_ as q}from"./_plugin-vue_export-helper-c27b6911.js";const u=x=>(O("data-v-4276ca75"),x=x(),P(),x),N={class:"main"},V={class:"box"},W={class:"box-top"},j={class:"box-value"},M=u(()=>t("span",{class:"v-e"},"种",-1)),G={class:"box-bottom"},H={class:"box"},J={class:"box-top"},K={class:"box-value"},Q=u(()=>t("span",{class:"v-e"},"单",-1)),R={class:"box-bottom"},U={class:"box"},X={class:"box-top"},Y={class:"box-value"},Z=u(()=>t("span",{class:"v-e"},"单",-1)),$={class:"box-bottom"},tt={class:"box"},et={class:"box-top"},at={class:"box-value"},st=u(()=>t("span",{class:"v-e"},"单",-1)),ot={class:"box-bottom"},lt=k({__name:"overview",setup(x){let f=h(!0);const v=h(),w=h(),S=h();let m,g,y,n=I({data:{}});B(()=>{C(),window.onresize=function(){m.resize(),g.resize(),y.resize()}});const C=()=>{A({}).then(i=>{console.log(i.data),n.data=i.data,D(),z(),L(),f.value=!1}).catch(i=>{f.value=!1})},D=()=>{let i=[],r=[],o=[];n.data.visitList.forEach((l,b)=>{i.push(l.day),r.push(l.uv),o.push(l.pv)}),echarts.init(v.value),m=echarts.init(v.value);let s={title:{text:""},tooltip:{trigger:"axis"},legend:{data:["IP","visit"],top:"90%",left:"center"},grid:{top:"30px",left:"20px",right:"20px",bottom:"40px",containLabel:!0},xAxis:{type:"category",axisLabel:{textStyle:{color:"#2F4F4F"}},axisLine:{lineStyle:{color:"#2F4F4F"}},data:i},yAxis:{type:"value",axisLine:{show:!1},axisTick:{show:!1},splitLine:{show:!0,lineStyle:{color:"rgba(10, 10, 10, 0.1)",width:1,type:"solid"}}},series:[{name:"IP",type:"line",stack:"Total",data:r},{name:"visit",type:"line",stack:"Total",data:o}]};m.setOption(s)},z=()=>{let i=[],r=[];n.data.popularThings.forEach((s,l)=>{i.push(s.title),r.push(s.count)}),g=echarts.init(w.value);let o={grid:{top:"40px",left:"40px",right:"40px",bottom:"40px"},title:{text:"热门商品排名",textStyle:{color:"#aaa",fontStyle:"normal",fontWeight:"normal",fontSize:18},x:"center",y:"top"},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},xAxis:{data:i,type:"category",axisLabel:{rotate:30,textStyle:{color:"#2F4F4F"}},axisLine:{lineStyle:{color:"#2F4F4F"}}},yAxis:{type:"value",axisLine:{show:!1},axisTick:{show:!1},splitLine:{show:!0,lineStyle:{color:"rgba(10, 10, 10, 0.1)",width:1,type:"solid"}}},series:[{data:r,type:"bar",itemStyle:{normal:{color:function(s){return"#70B0EA"}}}}]};g.setOption(o)},L=()=>{let i=[];n.data.popularClassification.forEach((o,s)=>{i.push({name:o.title,value:o.count})}),y=echarts.init(S.value);const r={grid:{top:"40px",left:"40px",right:"40px",bottom:"40px"},title:{text:"热门商品分类",textStyle:{color:"#aaa",fontStyle:"normal",fontWeight:"normal",fontSize:18},x:"center",y:"top"},tooltip:{trigger:"item"},legend:{top:"90%",left:"center"},series:[{name:"分类",type:"pie",itemStyle:{normal:{color:function(o){const s=["#70B0EA","#B3A3DA","#88DEE2","#62C4C8","#58A3A1"];let l=o.dataIndex;return o.dataIndex>=s.length&&(l=o.dataIndex-s.length),s[l]}}},radius:["40%","70%"],avoidLabelOverlap:!1,label:{show:!1,position:"center"},emphasis:{label:{show:!0,fontSize:20,fontWeight:"bold"}},labelLine:{show:!1},data:i}]};y.setOption(r)};return(i,r)=>{const o=_("a-tag"),s=_("a-card"),l=_("a-col"),b=_("a-row"),F=_("a-spin");return E(),T(F,{spinning:d(f)},{default:e(()=>[t("div",N,[a(b,{gutter:[20,20]},{default:e(()=>[a(l,{sm:24,md:12,lg:6},{default:e(()=>[a(s,{size:"small",title:"商品总数"},{extra:e(()=>[a(o,{color:"blue",slot:"extra"},{default:e(()=>[c("总")]),_:1})]),default:e(()=>[t("div",V,[t("div",W,[t("span",j,[c(p(d(n).data.spzs),1),M])]),t("div",G,[t("span",null,"本周新增 "+p(d(n).data.qrxz)+" 种",1)])])]),_:1})]),_:1}),a(l,{sm:24,md:12,lg:6},{default:e(()=>[a(s,{size:"small",title:"未付订单"},{extra:e(()=>[a(o,{color:"green"},{default:e(()=>[c("未付")]),_:1})]),default:e(()=>[t("div",H,[t("div",J,[t("span",K,[c(p(d(n).data.wfdd),1),Q])]),t("div",R,[t("span",null,"共 "+p(d(n).data.wfddrs)+" 人",1)])])]),_:1})]),_:1}),a(l,{sm:24,md:12,lg:6},{default:e(()=>[a(s,{size:"small",title:"已付订单"},{extra:e(()=>[a(o,{color:"blue",slot:"extra"},{default:e(()=>[c("已付")]),_:1})]),default:e(()=>[t("div",U,[t("div",X,[t("span",Y,[c(p(d(n).data.yfdd),1),Z])]),t("div",$,[t("span",null,"共 "+p(d(n).data.yfddrs)+" 人",1)])])]),_:1})]),_:1}),a(l,{sm:24,md:12,lg:6},{default:e(()=>[a(s,{size:"small",title:"取消订单"},{extra:e(()=>[a(o,{color:"green",slot:"extra"},{default:e(()=>[c("取消")]),_:1})]),default:e(()=>[t("div",tt,[t("div",et,[t("span",at,[c(p(d(n).data.qxdd),1),st])]),t("div",ot,[t("span",null,"共 "+p(d(n).data.qxddrs)+" 人",1)])])]),_:1})]),_:1})]),_:1}),a(s,{title:"最近一周访问量"},{default:e(()=>[t("div",{style:{height:"300px"},ref_key:"visitChartDiv",ref:v},null,512)]),_:1}),a(b,{gutter:[20,20]},{default:e(()=>[a(l,{sm:24,md:24,lg:12},{default:e(()=>[a(s,{title:"热门商品排名",style:{flex:"1"}},{default:e(()=>[t("div",{style:{height:"300px"},ref_key:"barChartDiv",ref:w},null,512)]),_:1})]),_:1}),a(l,{sm:24,md:24,lg:12},{default:e(()=>[a(s,{title:"热门分类比例",style:{flex:"1"}},{default:e(()=>[t("div",{style:{height:"300px"},ref_key:"pieChartDiv",ref:S},null,512)]),_:1})]),_:1})]),_:1})])]),_:1},8,["spinning"])}}});const rt=q(lt,[["__scopeId","data-v-4276ca75"]]);export{rt as default};
